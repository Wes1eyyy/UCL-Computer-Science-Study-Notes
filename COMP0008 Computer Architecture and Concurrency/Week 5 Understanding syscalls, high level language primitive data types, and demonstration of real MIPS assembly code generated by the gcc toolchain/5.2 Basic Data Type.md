### ğŸ§  **Character Encoding Overview**

#### ğŸ”¤ **ASCII**

- **7-bit** encoding â†’ 128 characters.
    
- Printable: letters, digits, punctuation.
    
- Non-printable: control chars (e.g. `\n`, `\r`, `\t`).
    
- Bit tricks:
    
    - Upper â†” lower case: `x ^ 0x20`
        
    - Convert `'3'` to int: `'3' - '0'`
        

#### ğŸ—º **ASCII Extensions**

- ISO 646: national variants (e.g. `#` â†” `Â£`).
    
- **Extended ASCII** (8-bit):
    
    - 128â€“255 range for accented chars, symbols.
        
    - Latin-1, Latin-2 (Western / Eastern Europe).
        

---

### ğŸŒ **Unicode & UTF**

#### ğŸŒ **Unicode**

- Up to **0x10FFFF** â†’ ~145,000+ characters.
    
- Includes emojis, global scripts.
    
- Backward compatible with Latin-1.
    

#### ğŸ”£ **Encodings**

- **UTF-32**: Fixed 4 bytes.
    
- **UTF-8**: Variable-length (1 to 4 bytes):
    
    - ASCII (0xxxxxxx)
        
    - 2-byte (110xxxxx 10xxxxxx)
        
    - 3-byte (1110xxxx ...)
        
    - 4-byte (11110xxx ...)
        
- Efficient + backward compatible.
    

---

### ğŸ“¦ **Strings**

- **C-style** string:
    
    - Null-terminated (`0x00`)
        
    - Raw byte array (e.g., `Hello! â†’ 0x48 0x65 ... 0x00`)
        
- Python/Java use Unicode internally.
    

---

### ğŸ”¢ **Real Number Representations**

#### 1. **Fixed Point**

- Decimal fixed scale (e.g. price `Â£86.73 â†’ 8673`).
    
- Negative = 2â€™s complement of scaled int.
    

#### 2. **Floating Point**

- **IEEE 754 (Single precision)**:
    
    - 32 bits = `sign | 8-bit exponent | 23-bit mantissa`
        
    - True exponent = encoded - 127
        
    - Example:
        
        ```
        0 10000000 10010010000111111011011
        = +2^(128âˆ’127) * 1.1001... â‰ˆ Ï€
        ```
        
- **Special cases**:
    
    - Subnormal: EA = 0 â†’ `(0 + fraction) Ã— 2â»Â¹Â²â¶`
        
    - Â±âˆ, NaN: EA = 255
        

#### 3. **Double Precision**

- 64 bits = `1 sign + 11 exponent + 52 fraction`
    
- Bias = **1023**
    
- EA = 2047 â†’ NaN/âˆ
    

---

### ğŸ§® **Floating Point in MIPS**

#### ğŸ”§ Co-processor

- Uses `$f0`â€“`$f31` for float values.
    
- Use `lwc1`, `swc1` for memory access.
    
- `mtc1`, `mfc1` move data between CPU and FPU.
    

#### ğŸ” Instructions

![[MIPS Arithmetic Floating Point Instructions.png]]

- `add.s`, `sub.s`, `mul.s`, `div.s` â†’ single precision
    
- `add.d`, `sub.d`, `mul.d`, `div.d` â†’ double precision
    
- Double uses **even-numbered pairs** (e.g. `$f0`/`$f1`)
    


---

### ğŸ‘¨â€ğŸ« å¼•è¨€ï¼šåœ¨æ²¡æœ‰è®¡ç®—å™¨çš„æ—¶ä»£ï¼ŒÏ€ æ˜¯æ€ä¹ˆæ±‚å‡ºæ¥çš„ï¼Ÿ

æˆ‘ä»¬ä»ä¸€ä¸ªå†å²äººç‰©è¯´èµ·â€”â€”**Madhava of Sangamagrama**ï¼Œ14 ä¸–çºªçš„å°åº¦æ•°å­¦å®¶ã€‚ä»–é¦–æ¬¡æå‡ºäº†ä¸€ä¸ªç”¨**æ— ç©·çº§æ•°**è®¡ç®— Ï€ çš„æ–¹æ³•ï¼š

Ï€=4âˆ‘n=0âˆ(âˆ’1)n2n+1\pi = 4 \sum_{n=0}^{\infty} \frac{(-1)^n}{2n+1}

è¿™å°±æ˜¯æˆ‘ä»¬ä»Šå¤©åœ¨ MIPS æ±‡ç¼–é‡Œè¦å®ç°çš„å…¬å¼ã€‚

---

### ğŸ§± æ•´ä½“æ€è·¯

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š

1. åˆå§‹åŒ–å¯„å­˜å™¨ï¼›
    
2. åœ¨ä¸€ä¸ªå¾ªç¯ä¸­ä¸æ–­æ±‚å‡ºæ¯ä¸€é¡¹çš„å€¼ (âˆ’1)n2n+1\frac{(-1)^n}{2n+1}ï¼Œå¹¶ç´¯åŠ ï¼›
    
3. æœ€åæŠŠå’Œä¹˜ä»¥ 4ï¼Œå¾—åˆ° Ï€ çš„è¿‘ä¼¼å€¼ï¼›
    
4. ä½¿ç”¨ syscall æ‰“å°ç»“æœã€‚
    

---

### ğŸ”§ åˆå§‹åŒ–éƒ¨åˆ†è®²è§£

```mips
li $8, 0           # n ä» 0 å¼€å§‹
li $15, 10000      # è®¡ç®— 10000 é¡¹
mtc1 $0, $f0       # $f0 å­˜å‚¨æœ€ç»ˆç´¯åŠ ç»“æœï¼ˆÏ€/4ï¼‰ï¼Œåˆå§‹ä¸º 0

li $9, 1           
mtc1 $9, $f1       
cvt.s.w $f1, $f1   # $f1 è®¾ç½®ä¸º 1.0 ï¼ˆæµ®ç‚¹å¸¸é‡ 1ï¼‰
```

æˆ‘ä»¬ä½¿ç”¨ `$8` ä½œä¸ºå¾ªç¯å˜é‡ `n`ï¼Œç”¨ `$f0` ç´¯åŠ ç»“æœï¼Œæ¯ä¸€è½®ä¼šè®¡ç®—ç¬¬ n é¡¹å¹¶åŠ è¿›å»ã€‚

---

### ğŸ” å¾ªç¯éƒ¨åˆ†è®²è§£

å¾ªç¯ä¸­æˆ‘ä»¬è¦è®¡ç®—ä¸¤ä»¶äº‹ï¼š

1. åˆ†æ¯éƒ¨åˆ† 2n+12n+1
    
2. åˆ†å­éƒ¨åˆ† (âˆ’1)n(-1)^n
    

ç„¶åæŠŠå®ƒä»¬ç›¸é™¤ï¼Œå†åŠ è¿›æ€»å’Œã€‚

```mips
sll $12, $8, 1         # $12 = 2n
addi $12, $12, 1       # $12 = 2n+1
mtc1 $12, $f2
cvt.s.w $f2, $f2       # $f2 = æµ®ç‚¹çš„ 2n+1

div.s $f2, $f1, $f2    # $f2 = 1 / (2n+1)
```

ç„¶åæ˜¯åˆ†å­ï¼š

```mips
andi $11, $8, 1        # $11 = n çš„å¥‡å¶æ€§
sll $11, $11, 1        # å¦‚æœæ˜¯å¥‡æ•°å°±å˜ 2
sub $11, $9, $11       # $11 = (-1)^nï¼Œå¥‡æ•°ä¸º -1ï¼Œå¶æ•°ä¸º +1
mtc1 $11, $f3
cvt.s.w $f3, $f3       # $f3 = æµ®ç‚¹çš„ (-1)^n
```

ç„¶åè®¡ç®—è¿™ä¸€é¡¹ï¼š

```mips
mul.s $f2, $f2, $f3    # $f2 = (-1)^n / (2n+1)
add.s $f0, $f0, $f2    # ç´¯åŠ è¿› $f0
```

æœ€åå¾ªç¯æ›´æ–°ï¼š

```mips
addi $8, $8, 1         
bne $8, $15, loop      
```

---

### ğŸ§¾ ç»“æŸå¤„ç†ä¸è¾“å‡º

å½“å¾ªç¯ç»“æŸåï¼Œæˆ‘ä»¬çš„ $f0 ä¸­å­˜å‚¨çš„æ˜¯ Ï€/4ï¼Œè¦ä¹˜ä¸Š 4ï¼š

```mips
li $13, 4
mtc1 $13, $f4
cvt.s.w $f4, $f4
mul.s $f0, $f0, $f4    # å¾—åˆ°æœ€ç»ˆ Ï€ è¿‘ä¼¼å€¼
```

ç„¶åæ‰“å°ï¼š

```mips
mov.s $f12, $f0        # å‡†å¤‡æ‰“å°
li $v0, 2              # syscall 2 æ˜¯æ‰“å° float
syscall
```

---

### ğŸ“Œ æ•™æˆæ€»ç»“

- æœ¬ç¨‹åºçš„**æ•°å­¦ç²¾é«“**åœ¨äº Madhavaâ€“Leibniz çº§æ•°ï¼›
    
- ç¼–ç¨‹æŠ€å·§ä¸Šé‡ç‚¹åœ¨ï¼š
    
    - å¦‚ä½•ç”¨æ•´å‹é€»è¾‘å¾—åˆ° (âˆ’1)n(-1)^nï¼›
        
    - å¦‚ä½•æµ®ç‚¹é™¤æ³• `div.s`ï¼›
        
    - å¦‚ä½•å®Œæˆ `mtc1` + `cvt.s.w` ä»æ•´å‹ â†’ æµ®ç‚¹ï¼›
        
- æœ€ç»ˆè®¡ç®— Ï€ çš„ç²¾åº¦å–å†³äºä½ è®¡ç®—å¤šå°‘é¡¹ï¼Œè¿™é‡Œæ˜¯ 10,000 é¡¹ï¼Œå·²ç»æœ‰äº†ä¸é”™çš„ç²¾åº¦ã€‚
    

---