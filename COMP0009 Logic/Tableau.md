
# 🧠 Tableau 方法（逻辑语义树）笔记

## 📘 1. 什么是 Tableau 方法？

**Tableau 方法** 是一种用于判断命题逻辑中公式是否：
- **有效（valid）**
- **可满足（satisfiable）**
- **蕴涵关系是否成立（entailment）**

它通过构建一棵 **逻辑树（语义树）**，将复杂公式逐步拆解为子公式，寻找是否存在矛盾或满足路径。

---

## 🌳 2. 核心原理

- 每条路径代表一个可能的“解释”
- 若路径中出现矛盾（如同时有 $p$ 与 $\neg p$），称该路径 **封闭（closed）**
- 若存在路径 **无矛盾**，称为 **开放（open）**

### 判断逻辑性质：

| 目标   | 操作                                  | 判断方法                          |
| ---- | ----------------------------------- | ----------------------------- |
| 有效性  | 对 $\neg \phi$ 构造 tableau            | 若所有分支封闭，$\phi$ 有效             |
| 可满足性 | 直接对 $\phi$ 构造 tableau               | 若存在开放分支，$\phi$ 可满足            |
| 蕴涵关系 | 构造 $\phi \land \neg \psi$ 的 tableau | 若封闭，说明 $\phi \models \psi$ 成立 |

---

## ⚙️ 3. Tableau 拆解规则（展开公式）
  
### 1. 合取（AND）规则：
$$
\phi \land \psi \quad \Rightarrow \quad \phi,\ \psi \quad \text{（同一分支写下）}
$$

### 2. 析取（OR）规则：
$$
\phi \lor \psi \quad \Rightarrow \quad \text{分两支：一支为 } \phi，\text{ 一支为 } \psi
$$

### 3. 否定合取：
$$
\neg(\phi \land \psi) \quad \Rightarrow \quad \text{分两支：} \neg \phi \quad \text{或} \quad \neg \psi
$$

### 4. 否定析取：
$$
\neg(\phi \lor \psi) \quad \Rightarrow \quad \neg \phi,\ \neg \psi \quad \text{（同一分支）}
$$

### 5. 蕴含（Implication）：
$$
\phi \rightarrow \psi \equiv \neg \phi \lor \psi \Rightarrow \text{分两支：} \neg \phi\ \text{或}\ \psi
$$

### 6. 否定蕴含：
$$
\neg(\phi \rightarrow \psi) \Rightarrow \phi,\ \neg \psi
$$

---

## ✅ 4. 示例：判断公式是否有效

判断公式是否为有效公式：
$$
(p \lor q) \rightarrow (q \lor p)
$$

### 步骤 1：取否定

$$
\neg((p \lor q) \rightarrow (q \lor p)) \equiv (p \lor q) \land \neg(q \lor p)
$$

### 步骤 2：展开公式

- $\neg(q \lor p) \equiv \neg q \land \neg p$
- 所以整个式子变为：
$$
(p \lor q),\ \neg q,\ \neg p
$$

### 构造语义树：

```

1. p ∨ q  
    ├── p  
    │ └── ⊥ (p 与 ¬p 矛盾) → 封闭  
    └── q  
    └── ⊥ (q 与 ¬q 矛盾) → 封闭
    

```

所有分支封闭 ✅ → 原式有效

---

## 📝 5. 小结 Tips

- 分支中若出现 $\phi$ 与 $\neg \phi$，该分支封闭
- 若 **全部分支封闭** → 公式为 **矛盾** 或 **有效**
- 若 **至少有一支开放** → 公式为 **可满足**

---

## 💡 建议

- Tableau 方法适合手动逻辑演绎或写程序实现
- 命题公式较长时，注意整理逻辑关系，防止分支爆炸

在谓词逻辑中构造 **semantic tableau**（语义表演法）时，对于涉及量词的公式，我们需要**替换变元为常元（constant）**或**Skolem项**，以便展开语义树。以下是具体的替换规则，总结如下：

---

### ✅ 一阶逻辑中常元替换规则

#### **1. ∃x φ(x)**（存在量词）

**规则**：引入一个**新的常元**（从未在该分支出现过）。

- 示例：  
    对于 ∃x P(x)，若当前分支中无任何常元，可令 `a` 是一个新常元，推出 `P(a)`。
    
- 目的：模拟“至少有一个”满足 φ(x) 的对象。
    

#### **2. ∀x φ(x)**（全称量词）

**规则**：用当前分支中已有的**所有常元**逐个实例化。

- 示例：  
    如果有 ∀x P(x)，而当前分支已有常元 `a` 和 `b`，则需推出 `P(a)` 和 `P(b)`。
    
- 目的：验证 φ(x) 对所有对象都成立。
    

---

### ✅ 分支下常元的使用规范

#### **3. 同一分支下不同变元**

- 若在**同一分支中**遇到 ∃x φ(x) 和 ∃y ψ(y)，必须分别引入**不同的新常元**，如 `x → a`, `y → b`。
    
- 原因：x 与 y 可能指向不同个体。
    

#### **4. 不同分支下相同变元**

- 若 ∃x φ(x) 被用于**两个不同分支**，可以在两个分支中使用**相同常元**，比如都用 `a`，**也可以**使用不同的，但通常为了简化结构，会选用同一常元。
    

---

### ✅ Skolem常元（高级）

- 若要否定 ∀x φ(x) 成为 ∃x ¬φ(x)，再进一步展开 ∃ 时，会引入 Skolem 常元。
    
- 在更复杂的情形下如 ∃x ∀y φ(x, y)，则 Skolem 函数项也可能出现。
    

---

### 总结为口诀（便于记忆）：

```
存在新， 全称全；
同分异， 异分同。
```

- **“存在新”：∃x φ(x) ⇒ 用新常元替换 x**
    
- **“全称全”：∀x φ(x) ⇒ 用所有当前常元替换 x**
    
- **“同分异”：同一分支下的 ∃x 与 ∃y 用不同常元**
    
- **“异分同”：不同分支可以使用相同常元**
    

---

如需，我也可以为你列出具体应用示例的 tableau 树展开。需要吗？