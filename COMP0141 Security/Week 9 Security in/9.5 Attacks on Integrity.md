
## ğŸ›¡ï¸ COMP141 Week 9+: Attacks on Integrity

### ğŸ”¶ Integrity (å®Œæ•´æ€§) Revisited

- Part of CIA (Confidentiality æœºå¯†æ€§, Integrity å®Œæ•´æ€§, Availability å¯ç”¨æ€§)
    
- Focus on attacks:
    
    - SQL injection (SQL æ³¨å…¥)
        
    - Clickjacking (ç‚¹å‡»åŠ«æŒ)
        
    - XSS/CSRF (è·¨ç«™è„šæœ¬ / è·¨ç«™è¯·æ±‚ä¼ªé€ )
        

---

### ğŸ”¶ Threat Model (å¨èƒæ¨¡å‹)

- Who trusts whom?
    
    - Does the server trust the user or browser?
        
    - Does the browser trust the user or server?
        

---

### ğŸ”¶ SQL Basics (SQL åŸºç¡€)

- SQL = Structured Query Language (ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€)
    
- Example:
    
    ```sql
    SELECT * FROM shop WHERE price < 10 ORDER BY type;
    ```
    
- Logical operators (é€»è¾‘è¿ç®—ç¬¦): AND, OR, NOT
    
- Comment (æ³¨é‡Š): --
    
- Statement terminator (è¯­å¥ç»“æŸç¬¦): ;
    

---

### ğŸ”¶ SQL Injection (SQL æ³¨å…¥)

- Server builds SQL using arbitrary user input (ä»»æ„ç”¨æˆ·è¾“å…¥)
    
- Example:
    
    ```sql
    SELECT count(*) FROM users WHERE user_name = 'alice' -- '
    ```
    
- Exploit:
    
    - Bypass checks (ç»•è¿‡æ£€æŸ¥)
        
    - Run arbitrary commands (æ‰§è¡Œä»»æ„å‘½ä»¤)
        

---

### ğŸ”¶ Other Integrity Attacks

- Browser fingerprinting (æµè§ˆå™¨æŒ‡çº¹)
    
- Forward secrecy / revocation (å‰å‘ä¿å¯† / åŠé”€)
    
- Typosquatting / pharming (æ‹¼å†™åŠ«æŒ / åŸŸåæ¬ºéª—)
    
- Clickjacking (ç‚¹å‡»åŠ«æŒ)
    

---

## ğŸ•¸ï¸ Modern Web & iFrames

- Modern web loads content from multiple sources (å¤šä¸ªæ¥æº).
    
- Example: Ads (å¹¿å‘Š), widgets (å°éƒ¨ä»¶) come from other sites.
    

### iFrames (å†…åµŒæ¡†æ¶)

- Embed (åµŒå…¥) one site inside another.
    
- Outer page (å¤–å±‚é¡µé¢) controls frame size.
    
- Inner page (å†…å±‚é¡µé¢) controls its content.
    

---

## ğŸ–±ï¸ Clickjacking (ç‚¹å‡»åŠ«æŒ)

- Attacker site (æ”»å‡»è€…ç½‘ç«™) overlays good site (è¦†ç›–å¥½ç½‘ç«™) â†’ tricks user (æ¬ºéª—ç”¨æˆ·).
    
- Example: fake â€œWinâ€ button covers real â€œPayâ€ button.
    

### Likejacking (ç‚¹èµåŠ«æŒ)

- Tricks users (æ¬ºéª—ç”¨æˆ·) into clicking â€œLikeâ€.
    

### Cursorjacking (å…‰æ ‡åŠ«æŒ)

- Fake cursor (å‡å…‰æ ‡) â†’ misleads real click (è¯¯å¯¼çœŸå®ç‚¹å‡»).
    

---

## ğŸ’¡ Key Defenses (å…³é”®é˜²å¾¡)

- X-Frame-Options header (é˜»æ­¢è¢«åµŒå…¥).
    
- Frame busting scripts (é˜²æ¡†æ¶è„šæœ¬).
    

---
